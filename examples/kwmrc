# This is a sample config for Kwm
# The commands listed here can be of
# two types.
#
# Commands prefixed with 'kwmc' will call
# local functions corresponding to the
# kwmc syntax.
#
# To run a system command, use the prefix
# 'sys' and then the requested command
# e.g 'sys mvim' would open macvim

# Read file and execute commands as
# if they were written inside kwmrc.
#
# include filename
#
# e.g: bind-commands in a separate file called 'binds'
# include binds

# Set default values for screen padding
kwmc config padding 40 20 20 20

# Set default values for container gaps
kwmc config gap 15 15

# Default tiling mode for Kwm (bsp | monocle | float | off)
kwmc config tiling bsp

# Let Kwm listen for hotkeys
kwmc config hotkeys on

# Set prefix for Kwms hotkeys
kwmc config prefix-key ctrl-x

# Prefix is not applied globally
kwmc config prefix-global off

# Time in seconds, before prefix must be re-activated
kwmc config prefix-timeout 0.75

# Automatically float windows that fail to resize
kwmc config float-non-resizable on

# Automatically resize the window to its container
kwmc config lock-to-container on

# Set focus-follows-mouse-mode to autoraise
kwmc config focus autoraise

# Focus-follows-mouse is temporarily disabled when
# a floating window has focus
kwmc config focus standby-on-float on

# The mouse will automatically move to the center
# of the focused window
kwmc config focus mouse-follows on

# Allow window focus to wrap-around
kwmc config cycle-focus screen

# Override default settings for space 1 on screen 0
# kwmc config space 0 1 mode monocle
# kwmc config space 0 1 padding 100 100 100 100
# kwmc config space 0 1 gap 40 40

# Override default settings for screen 1
# kwmc config display 1 mode bsp
# kwmc config display 1 padding 100 100 100 100
# kwmc config display 1 gap 40 40

# Set default container split-ratio
kwmc config split-ratio 0.5

# New splits become the left leaf-node
kwmc config spawn left

# Add custom tiling rules for applications that
# does not get tiled by Kwm by default.
# This is because some applications do not have the
# AXWindowRole and AXStandardWindowSubRole
kwmc config add-role AXDialog iTerm2

# The following command blacklists a specific application
# from Kwms tiling (PS: The app name is case-sensitive)
# If the name consist of multiple words, the command
# looks like: kwmc config float Google Chrome
kwmc config float Steam
kwmc config float Photoshop

# The following command captures an application to the
# given screen, if the screen exists. By doing this
# the application can no longer be moved to other screens
# kwmc config capture 1 iTunes

# Enable border for focused window
kwmc config focused-border on
kwmc config focused-border size 5
kwmc config focused-border color FFBDD322

# Enable border for marked window
kwmc config marked-border on
kwmc config marked-border size 5
kwmc config marked-border color FFCC5577

# Change border color when prefix-key is active
kwmc config prefix-border on
kwmc config prefix-border size 5
kwmc config prefix-border color FF458588

########  Default Keybinds ########

# Quit Kwm
kwmc bind cmd+alt+ctrl-q quit

# Launch iTerm2
kwmc bind cmd-return sys open -na /Applications/iTerm2.app

# Toggle Focus Autoraise
kwmc bind cmd+alt+ctrl-t config focus toggle

# Set Space Tiling Mode To BSP
kwmc bind cmd+ctrl-a tile -space bsp

# Set Space Tiling Mode To Monocle
kwmc bind cmd+ctrl-s tile -space monocle

# Set Space Tiling Mode To Floating
kwmc bind cmd+ctrl-d float -space focused

# Rotate Window-Tree By 90* (Clockwise)
kwmc bind cmd+ctrl-r tree rotate 90

# Modify Container
kwmc bind prefix-s split -window toggle
kwmc bind prefix-h node -window reduce 0.05
kwmc bind prefix-l node -window expand 0.05
kwmc bind prefix-< node -window type toggle

# Set Temporary Window Container
kwmc bind prefix-f zoom -window fullscreen
kwmc bind prefix-d zoom -window parent
kwmc bind prefix-w float -window focused

# Mark Window
kwmc bind cmd+alt+ctrl-m mark -window focused
kwmc bind cmd+alt+ctrl-h mark -window west wrap
kwmc bind cmd+alt+ctrl-l mark -window east wrap
kwmc bind cmd+alt+ctrl-j mark -window south wrap
kwmc bind cmd+alt+ctrl-k mark -window north wrap

# Give Focus To Window
kwmc bind cmd+alt-h focus -window west
kwmc bind cmd+alt-l focus -window east
kwmc bind cmd+alt-j focus -window south
kwmc bind cmd+alt-k focus -window north

kwmc bind cmd+alt-n focus -sub-window prev
kwmc bind cmd+alt-m focus -sub-window next

# Give Focus To Screen
kwmc bind cmd+alt-1 focus -display 0
kwmc bind cmd+alt-2 focus -display 1
kwmc bind cmd+alt-3 focus -display 2

# Move Focused Window
kwmc bind ctrl+alt-h swap -window west
kwmc bind ctrl+alt-j swap -window south
kwmc bind ctrl+alt-k swap -window north
kwmc bind ctrl+alt-l swap -window east
kwmc bind ctrl+alt-m swap -window mark

# Pseudo containers
kwmc bind cmd+ctrl+alt-p node -pseudo create
kwmc bind cmd+ctrl+alt-o node -pseudo destroy
kwmc bind ctrl+alt-p swap -window prev
kwmc bind ctrl+alt-n swap -window next

# Detach Focused Window And Reinsert In Direction
kwmc bind ctrl+shift-k move -window north
kwmc bind ctrl+shift-l move -window east
kwmc bind ctrl+shift-j move -window south
kwmc bind ctrl+shift-h move -window west

# Detach Marked Window And Reinsert At Focused Window
kwmc bind ctrl+shift-x move -window mark

# Move Focused Window To Space
kwmc bind ctrl+alt-left move -window space left
kwmc bind ctrl+alt-right move -window space right

# Move Focused Window To Screen
kwmc bind ctrl+alt-1 move -window display 0
kwmc bind ctrl+alt-2 move -window display 1
kwmc bind ctrl+alt-3 move -window display 2

# Increase Container Gaps
kwmc bind prefix-x gap -space increase horizontal
kwmc bind prefix-y gap -space increase vertical

# Decrease Container Gaps
kwmc bind prefix+shift-x gap -space decrease horizontal
kwmc bind prefix+shift-y gap -space decrease vertical

# Increase Screen Padding
kwmc bind prefix-left padding -space increase left
kwmc bind prefix-right padding -space increase right
kwmc bind prefix-up padding -space increase top
kwmc bind prefix-down padding -space increase bottom
kwmc bind prefix-p padding -space increase all

# Decrease Screen Padding
kwmc bind prefix+shift-left padding -space decrease left
kwmc bind prefix+shift-right padding -space decrease right
kwmc bind prefix+shift-up padding -space decrease top
kwmc bind prefix+shift-down padding -space decrease bottom
kwmc bind prefix+shift-p padding -space decrease all

# Autowrite
kwmc bind cmd-7 write \
kwmc bind cmd-8 write {
kwmc bind cmd-9 write }

# Layout
kwmc bind prefix-c tree restore dev3

# Init
kwmc bind prefix+cmd-o sys /Users/Koe/.kwm/startup.sh
